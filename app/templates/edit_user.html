{% extends "template.html" %}

{% block head %}
<script src="static/scripts/editUserList.js"></script>
{% endblock %}

{% block content %}
<h2>{{ access }}</h2>
<hr class="border border-muted border-1 opacity-75">

<div class="card rounded mr-2 bg-light text-secondary">
    <!-- Email -->
    <div class="media">
        <div class="media-body">
            <h4 class="mt-0 mb-1 ml-1">Email</h4>
            <div id="email-field">
                <input class="ml-2 rounded-9" type="text" id="email-input" value="{{ email }}">
            </div>
            <h6 class="mt-0 mb-1 ml-1" id="email-display">{% if arg != 'email' %}{{ email }}{% endif %}</h6>
        </div>
        <button type="button" onclick="showField('email')" class="custom-button1 mt-3 mr-2 rounded text-white">Change email</button>
    </div>

    <!-- Password -->
    <div class="media mt-4 mb-4">
        <div class="media-body">
            <h4 class="mt-0 mb-1 ml-1">Password</h4>
            <div id="password-field">
                <input class="ml-2 rounded-9" type="password" id="password-input" value="{{ password }}">
            </div>
            <h6 class="mt-0 mb-1 ml-1" id="password-display">{% if arg != 'password' %}{{ password }}{% endif %}</h6>
        </div>
        <button type="button" onclick="showField('password')" class="custom-button1 mt-3 mr-2 rounded text-white">Change Password</button>
    </div>

    <!-- Access -->
    <div class="media">
        <div class="media-body">
            <h4 class="mt-0 mb-1 ml-1">Access</h4>
            <div id="access-field">
                {% if access == 'Public' %}
                <div class="form-check form-switch">
                    <input type="checkbox" checked>
                    <label class="form-check-label" for="flexSwitchCheckChecked">Public</label>
                </div>
                {% else %}
                <div class="form-check form-switch">
                    <input type="checkbox" id="Private">
                    <label for="access">Private</label>
                </div>
                {% endif %}
            </div>
            <h6 class="mt-0 mb-1 ml-1" id="access-display">{% if arg != 'access' %}{{ access }}{% endif %}</h6>
        </div>
        <button type="button" onclick="showField('access')" class="custom-button1 mt-3 mr-2 rounded text-white">Change Access</button>
    </div>
</div>

<form action="/delete" method="post">
    <div class="mt-3 text-secondary">
        <h4>Delete Account</h4>
        <button class="custom-button2 mt-1 rounded text-white">Delete Account</button>
    </div>
</form>

<script>
    function showField(fieldName) {
        // Hide all fields
        document.getElementById('email-field').style.display = 'none';
        document.getElementById('password-field').style.display = 'none';
        document.getElementById('access-field').style.display = 'none';

        // Show the selected field
        document.getElementById(fieldName + '-field').style.display = 'block';
    }
</script>

{% endblock %}